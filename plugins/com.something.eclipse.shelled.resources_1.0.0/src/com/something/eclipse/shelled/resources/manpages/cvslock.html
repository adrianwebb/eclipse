<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->

</PRE>
<H2>SYNOPSIS</H2><PRE>
       <B>cvslock</B> [-q] [-p <I>pid</I>] [-d <I>CVS</I> <I>root</I>] [-R|-W] [-u|-s|-c <I>Com­</I>
       <I>mand</I>] <I>directory</I>


</PRE>
<H2>DESCRIPTION</H2><PRE>
       <B>cvslock</B> is used to lock a tree starting  at  <I>directory</I>  in
       your  CVS  repository  during  low-level  manipulation  or
       inspection.

       There are various modes of operation: You can use  the  -s
       or  -c  options to cause <B>cvslock</B> to spawn a sub-shell or a
       shell command from which you can safely access the  source
       repository.

       You  can also use <B>cvslock</B> to lock and unlock CVS reposito­
       ries from shell scripts; in this case you'll want  to  use
       the  -p  option to specify the process ID which is written
       to the lock files' names.

       The default when given no options is to acquire a  persis­
       tant read lock.


</PRE>
<H2>OPTIONS</H2><PRE>
       -q     This  option tells <B>cvslock</B> to shut up and not print
              any diagnostic messages to stdout.   This  is  most
              useful  when using the program in conjunction with,
              e.g., <B>rsync(1)</B><B>.</B>

       -p <I>pid</I> The CVS lock files generated by this  utility  have
              the current process ID in their name to distinguish
              them from lock files generated by other tools  such
              as  <B>cvs</B>  itself  or concurrent sessions of <B>cvslock</B>.
              Use this option to force <B>cvslock</B> to use a  specific
              pid.  This is in most useful from shell scripts.

       -d <I>CVS</I> <I>root</I>
              This optional argument tells <B>cvslock</B> where your CVS
              repository's root is.  If no -d  switch  is  given,
              <B>cvslock</B>  will  fall back to the <B>CVSROOT</B> environment
              variable.  Note that <B>cvslock</B> only  works  on  local
              repositories,  so  don't  try  to access pserver or
              rsh-accessible remote repositories this way.

       -R     This switch tells <B>cvslock</B> to  acquire  a  lock  for
              safe reading of the repository.

       -W     This  switch  tells <B>cvslock</B> to acquire a write lock
              on the repository.

       -s     When invoked with this option, <B>cvslock</B> will  invoke
              the  user's  login shell as determined by the <B>SHELL</B>
              environment variable after locking the  repository.


</PRE>
<H2>DIAGNOSTICS</H2><PRE>
       <B>cvslock</B>  spits  out some diagnostics to the standard error
       stream.  It's exit value is zero if and only if the  lock­
       ing  operation  requested  by  the user could be performed
       successfully.  Note that <I>no</I>  diagnostics  about  the  exit
       value  of  commands  executed  through  the  <B>-c</B> switch are
       given.


</PRE>
<H2>BUGS</H2><PRE>
       The signal handling is not too well-tested and may be bro­
       ken.

       If you try to create the same lock several times, you will
       get funny effects due to the error recovery <B>cvslock</B>  tries
       to do.


</PRE>
<H2>SEE ALSO</H2><PRE>
       Version Management with CVS

       <B>rsync(1)</B>, <B>system(3)</B>, <B>cvs(1)</B>


</PRE>
<H2>AUTHOR</H2><PRE>
       <B>cvslock</B>  was  put  together  in a quick hacking session by
       Thomas Roessler &lt;roessler@guug.de&gt; and may be  distributed
       under  the terms of the GNU General Public License version
       2.



Unix                       October 1998                <B>cvslock(1)</B>
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
