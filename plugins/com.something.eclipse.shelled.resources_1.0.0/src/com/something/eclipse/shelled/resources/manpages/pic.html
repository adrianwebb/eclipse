<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->

</PRE>
<H2>SYNOPSIS</H2><PRE>
       <B>pic</B> [ <B>-nvCSU</B> ] [ <I>filename</I> ...  ]
       <B>pic</B> <B>-t</B> [ <B>-cvzCSU</B> ] [ <I>filename</I> ...  ]


</PRE>
<H2>DESCRIPTION</H2><PRE>
       This  manual  page describes the GNU version of <B>pic</B>, which
       is part of the groff document formatting system.  <B>pic</B> com­
       piles  descriptions  of  pictures embedded within <B>troff</B> or
       TeX input files into commands that are understood  by  TeX
       or  <B>troff</B>.  Each picture starts with a line beginning with
       <B>.PS</B> and ends with a line  beginning  with  <B>.PE</B>.   Anything
       outside of <B>.PS</B> and <B>.PE</B> is passed through without change.

       It  is  the  user's  responsibility to provide appropriate
       definitions of the <B>PS</B> and <B>PE</B> macros.  When the macro pack­
       age being used does not supply such definitions (for exam­
       ple, old versions of -ms), appropriate definitions can  be
       obtained with <B>-mpic</B>: these will center each picture.


</PRE>
<H2>OPTIONS</H2><PRE>
       Options that do not take arguments may be grouped behind a
       single <B>-</B>.  The special option <B>--</B> can be used to  mark  the
       end  of  the options.  A filename of <B>-</B> refers to the stan­
       dard input.

       <B>-C</B>     Recognize <B>.PS</B> and <B>.PE</B> even when followed by a char­
              acter other than space or newline.

       <B>-S</B>     Safer  mode;  do not execute <B>sh</B> commands.  This can
              be useful when operating  on  untrustworthy  input.
              (enabled by default)

       <B>-U</B>     Unsafe mode; revert the default option <B>-S</B>.

       <B>-n</B>     Don't use the groff extensions to the troff drawing
              commands.  You should use this if you are  using  a
              postprocessor  that  doesn't  support  these exten­
              sions.    The   extensions   are    described    in
              <B>groff_out(5)</B>.  The <B>-n</B> option also causes <B>pic</B> not to
              use zero-length lines to draw dots in troff mode.

       <B>-t</B>     TeX mode.

       <B>-c</B>     Be more compatible with <B>tpic</B>.  Implies  <B>-t</B>.   Lines
              beginning  with  <B>\</B> are not passed through transpar­
              ently.  Lines beginning with <B>.</B>  are passed  through
              with the initial <B>.</B>  changed to <B>\</B>.  A line beginning
              with <B>.ps</B> is given special treatment:  it  takes  an
              optional   integer  argument  specifying  the  line
              thickness (pen  size)  in  milliinches;  a  missing
              argument  restores the previous line thickness; the
              default line thickness is 8 milliinches.  The  line

       <B>-T</B> <I>dev</I> Generate output for the <B>troff</B> device <I>dev</I>.  This  is
              unnecessary  because  the <B>troff</B> output generated by
              <B>pic</B> is device-independent.


</PRE>
<H2>USAGE</H2><PRE>
       This section describes only the  differences  between  GNU
       <B>pic</B>  and  the original version of <B>pic</B>.  Many of these dif­
       ferences also apply to newer versions of Unix <B>pic</B>.

   <B>TeX</B> <B>mode</B>
       TeX mode is enabled by the <B>-t</B> option.  In  TeX  mode,  <B>pic</B>
       will  define  a  vbox called <B>\graph</B> for each picture.  You
       must yourself print that vbox using, for example, the com­
       mand

              <B>\centerline{\box\graph}</B>

       Actually,  since  the  vbox has a height of zero this will
       produce slightly more vertical  space  above  the  picture
       than below it;

              <B>\centerline{\raise</B> <B>1em\box\graph}</B>

       would avoid this.

       You must use a TeX driver that supports the <B>tpic</B> specials,
       version 2.

       Lines beginning with <B>\</B> are passed through transparently; a
       <B>%</B>  is  added  to  the  end  of  the line to avoid unwanted
       spaces.  You can safely use this feature to  change  fonts
       or  to  change  the value of <B>\baselineskip</B>.  Anything else
       may well produce undesirable  results;  use  at  your  own
       risk.   Lines  beginning  with  a period are not given any
       special treatment.

   <B>Commands</B>
       <B>for</B> <I>variable</I> <B>=</B> <I>expr1</I> <B>to</B> <I>expr2</I> [<B>by</B> [<B>*</B>]<I>expr3</I>] <B>do</B> <I>X</I> <I>body</I> <I>X</I>
              Set <I>variable</I> to <I>expr1</I>.  While the value of <I>variable</I>
              is  less than or equal to <I>expr2</I>, do <I>body</I> and incre­
              ment <I>variable</I> by <I>expr3</I>; if <B>by</B> is not given,  incre­
              ment <I>variable</I> by 1.  If <I>expr3</I> is prefixed by <B>*</B> then
              <I>variable</I> will instead be multiplied  by  <I>expr3</I>.   <I>X</I>
              can be any character not occurring in <I>body</I>.

       <B>if</B> <I>expr</I> <B>then</B> <I>X</I> <I>if-true</I> <I>X</I> [<B>else</B> <I>Y</I> <I>if-false</I> <I>Y</I>]
              Evaluate  <I>expr</I>;  if it is non-zero then do <I>if-true</I>,
              otherwise do <I>if-false</I>.  <I>X</I> can be any character  not
              occurring  in  <I>if-true</I>.  <I>Y</I> can be any character not
              occurring in <I>if-false</I>.

              not occurring in <I>command</I>.

       <B>copy</B> <B>"</B><I>filename</I><B>"</B>
              Include <I>filename</I> at this point in the file.

       <B>copy</B> [<B>"</B><I>filename</I><B>"</B>] <B>thru</B> <I>X</I> <I>body</I> <I>X</I> [<B>until</B> <B>"</B><I>word</I><B>"</B>]
       <B>copy</B> [<B>"</B><I>filename</I><B>"</B>] <B>thru</B> <I>macro</I> [<B>until</B> <B>"</B><I>word</I><B>"</B>]
              This  construct  does  <I>body</I>  once  for each line of
              <I>filename</I>; the line is  split  into  blank-delimited
              words, and occurrences of <B>$</B><I>i</I> in <I>body</I>, for <I>i</I> between
              1 and 9, are replaced by the <I>i</I>-th word of the line.
              If  <I>filename</I> is not given, lines are taken from the
              current input up to <B>.PE</B>.  If  an  <B>until</B>  clause  is
              specified, lines will be read only until a line the
              first word of which is <I>word</I>; that line will then be
              discarded.  <I>X</I> can be any character not occurring in
              <I>body</I>.  For example,

                     <B>.PS</B>
                     <B>copy</B> <B>thru</B> <B>%</B> <B>circle</B> <B>at</B> <B>($1,$2)</B> <B>%</B> <B>until</B> <B>"END"</B>
                     <B>1</B> <B>2</B>
                     <B>3</B> <B>4</B>
                     <B>5</B> <B>6</B>
                     <B>END</B>
                     <B>box</B>
                     <B>.PE</B>

              is equivalent to

                     <B>.PS</B>
                     <B>circle</B> <B>at</B> <B>(1,2)</B>
                     <B>circle</B> <B>at</B> <B>(3,4)</B>
                     <B>circle</B> <B>at</B> <B>(5,6)</B>
                     <B>box</B>
                     <B>.PE</B>

              The commands to be performed for each line can also
              be taken from a macro defined earlier by giving the
              name of the macro as the argument to <B>thru</B>.

       <B>reset</B>
       <B>reset</B> <I>variable1</I><B>,</B> <I>variable2</I> <I>...</I>
              Reset pre-defined  variables  <I>variable1</I>,  <I>variable2</I>
              ...  to  their default values.  If no arguments are
              given, reset all  pre-defined  variables  to  their
              default  values.   Note  that  assigning a value to
              <B>scale</B> also causes all  pre-defined  variables  that
              control  dimensions  to  be  reset to their default
              values times the new value of scale.

       <B>plot</B> <I>expr</I> [<B>"</B><I>text</I><B>"</B>]
              This is a text object which is constructed by using
              there, and then changes the value  in  the  current
              block.)

       Arguments of the form

              <I>X</I> anything <I>X</I>

       are also allowed to be of the form

              <B>{</B> <I>anything</I> <B>}</B>

       In  this case <I>anything</I> can contain balanced occurrences of
       <B>{</B> and <B>}</B>.  Strings may contain <I>X</I> or imbalanced  occurrences
       of <B>{</B> and <B>}</B>.

   <B>Expressions</B>
       The   syntax   for   expressions  has  been  significantly
       extended:

       <I>x</I> <B>^</B> <I>y</I> (exponentiation)
       <B>sin(</B><I>x</I><B>)</B>
       <B>cos(</B><I>x</I><B>)</B>
       <B>atan2(</B><I>y</I><B>,</B> <I>x</I><B>)</B>
       <B>log(</B><I>x</I><B>)</B> (base 10)
       <B>exp(</B><I>x</I><B>)</B> (base 10, ie 10<I>x</I>)
       <B>sqrt(</B><I>x</I><B>)</B>
       <B>int(</B><I>x</I><B>)</B>
       <B>rand()</B> (return a random number between 0 and 1)
       <B>rand(</B><I>x</I><B>)</B> (return a random number between 1  and  <I>x</I>;  depre­
       cated)
       <B>srand(</B><I>x</I><B>)</B> (set the random number seed)
       <B>max(</B><I>e1</I><B>,</B> <I>e2</I><B>)</B>
       <B>min(</B><I>e1</I><B>,</B> <I>e2</I><B>)</B>
       <B>!</B><I>e</I>
       <I>e1</I> <B>&amp;&amp;</B> <I>e2</I>
       <I>e1</I> <B>||</B> <I>e2</I>
       <I>e1</I> <B>==</B> <I>e2</I>
       <I>e1</I> <B>!=</B> <I>e2</I>
       <I>e1</I> <B>&gt;=</B> <I>e2</I>
       <I>e1</I> <B>&gt;</B> <I>e2</I>
       <I>e1</I> <B>&lt;=</B> <I>e2</I>
       <I>e1</I> <B>&lt;</B> <I>e2</I>
       <B>"</B><I>str1</I><B>"</B> <B>==</B> <B>"</B><I>str2</I><B>"</B>
       <B>"</B><I>str1</I><B>"</B> <B>!=</B> <B>"</B><I>str2</I><B>"</B>

       String  comparison  expressions  must  be parenthesised in
       some contexts to avoid ambiguity.

   <B>Other</B> <B>Changes</B>
       A bare expression, <I>expr</I>, is acceptable as an attribute; it
       is equivalent to <I>dir</I> <I>expr</I>, where <I>dir</I> is the current direc­
       tion.  For example
       is legal.

       There  is  no  limit  to  the depth to which blocks can be
       examined.  For example,
              <B>[A:</B> <B>[B:</B> <B>[C:</B> <B>box</B> <B>]]]</B> <B>with</B> <B>.A.B.C.sw</B> <B>at</B> <B>1,2</B>
              <B>circle</B> <B>at</B> <B>last</B> <B>[].A.B.C</B>
       is acceptable.

       Arcs now have compass points determined by the  circle  of
       which the arc is a part.

       Circles  and  arcs  can  be dotted or dashed.  In TeX mode
       splines can be dotted or dashed.

       Boxes can have rounded corners.  The <B>rad</B> attribute  speci­
       fies the radius of the quarter-circles at each corner.  If
       no <B>rad</B> or <B>diam</B> attribute is given, a radius of  <B>boxrad</B>  is
       used.   Initially,  <B>boxrad</B>  has  a value of 0.  A box with
       rounded corners can be dotted or dashed.

       The <B>.PS</B> line can have a second argument specifying a maxi­
       mum height for the picture.  If the width of zero is spec­
       ified the width will be ignored in computing  the  scaling
       factor  for  the  picture.   Note that GNU <B>pic</B> will always
       scale a picture by the same amount vertically as  horizon­
       tally.   This  is different from the DWB 2.0 <B>pic</B> which may
       scale a picture by a different amount vertically than hor­
       izontally if a height is specified.

       Each  text object has an invisible box associated with it.
       The compass points of a text object are determined by this
       box.   The  implicit  motion associated with the object is
       also determined by this box.  The dimensions of  this  box
       are  taken  from  the  width and height attributes; if the
       width attribute is not supplied then  the  width  will  be
       taken  to  be <B>textwid</B>; if the height attribute is not sup­
       plied then the height will be taken to be  the  number  of
       text  strings  associated  with  the  object times <B>textht</B>.
       Initially <B>textwid</B> and <B>textht</B> have a value of 0.

       In places where a quoted  text  string  can  be  used,  an
       expression of the form

              <B>sprintf("</B><I>format</I><B>",</B> <I>arg</I><B>,</B>...<B>)</B>

       can  also be used; this will produce the arguments format­
       ted according to <I>format</I>,  which  should  be  a  string  as
       described in <B>printf(3)</B> appropriate for the number of argu­
       ments supplied, using only the <B>e</B>, <B>f</B>, <B>g</B> or <B>%</B> format charac­
       ters.

       The  thickness  of  the lines used to draw objects is con­
       points.  The thickness of lines is  not  affected  by  the
       value  of  the  <B>scale</B> variable, nor by the width or height
       given in the <B>.PS</B> line.

       Boxes (including boxes with rounded corners), circles  and
       ellipses  can  be  filled  by  giving then an attribute of
       <B>fill</B>[<B>ed</B>].  This takes an optional argument of  an  expres­
       sion  with  a  value  between 0 and 1; 0 will fill it with
       white, 1 with black, values in between with a  proportion­
       ally gray shade.  A value greater than 1 can also be used:
       this means fill with the shade of gray that  is  currently
       being  used  for  text  and  lines.  Normally this will be
       black, but output devices  may  provide  a  mechanism  for
       changing this.  Without an argument, then the value of the
       variable <B>fillval</B> will be used.  Initially this has a value
       of 0.5.  The invisible attribute does not affect the fill­
       ing of objects.  Any text associated with a filled  object
       will  be  added  after the object has been filled, so that
       the text will not be obscured by the filling.

       Arrow heads will be drawn as solid triangles if the  vari­
       able  <B>arrowhead</B> is non-zero and either TeX mode is enabled
       or the <B>-x</B> option has been given.  Initially <B>arrowhead</B>  has
       a value of 1.

       The  troff  output  of  <B>pic</B> is device-independent.  The <B>-T</B>
       option is therefore redundant.  All numbers are  taken  to
       be in inches; numbers are never interpreted to be in troff
       machine units.

       Objects can have an <B>aligned</B>  attribute.   This  will  only
       work when the postprocessor is <B>grops</B>.  Any text associated
       with an  object  having  the  <B>aligned</B>  attribute  will  be
       rotated  about  the  center  of  the  object so that it is
       aligned in the direction from the start point to  the  end
       point  of  the object.  Note that this attribute will have
       no effect for objects whose start and end points are coin­
       cident.

       In  places  where <I>n</I><B>th</B> is allowed <B>`</B><I>expr</I><B>'th</B> is also allowed.
       Note that <B>'th</B> is a  single  token:  no  space  is  allowed
       between the <B>'</B> and the <B>th</B>.  For example,

              <B>for</B> <B>i</B> <B>=</B> <B>1</B> <B>to</B> <B>4</B> <B>do</B> <B>{</B>
                 line from `i'th box.nw to `i+1'th box.se
              }


</PRE>
<H2>CONVERSION</H2><PRE>
       To  obtain  a stand-alone picture from a <B>pic</B> file, enclose
       your <B>pic</B> code with <B>.PS</B> and <B>.PE</B> requests;  <B>roff</B>  configura­
       tion  commands  may be added at the beginning of the file,
       but no <B>roff</B> text.
       <B>groff</B> itself does not provide direct conversion into other
       graphics  file  formats.  But there are lots of possibili­
       ties if you first transform your picture into  PostScript®
       format  using  the  <B>groff</B> option <B>-Tps</B>.  Since this <I>ps</I>-file
       lacks BoundingBox information it is  not  very  useful  by
       itself,  but it may be fed into other conversion programs,
       usually named <B>ps2</B><I>other</I> or <B>psto</B><I>other</I> or  the  like.   More­
       over,  the  PostScript  interpreter  <B>ghostscript</B>  (<B>gs</B>) has
       built-in graphics conversion devices that are called  with
       the option

              <B>gs</B> <B>-sDEVICE=</B><I>&lt;devname&gt;</I>

       Call
              <B>gs</B> <B>--help</B>

       for a list of the available devices.

       As  the Encapsulated PostScript File Format <B>EPS</B> is getting
       more  and  more  important,  and  the  conversion   wasn't
       regarded  trivial  in  the past you might be interested to
       know that there is a conversion tool  named  <B>ps2eps</B>  which
       does  the  right  job.   It  is  much better than the tool
       <B>ps2epsi</B> packaged with <B>gs</B>.

       For bitmapped graphic formats, you should use <B>pstopnm</B>; the
       resulting (intermediate) <B>PNM</B> file can be then converted to
       virtually any graphics  format  using  the  tools  of  the
       <B>netpbm</B> package .


</PRE>
<H2>FILES</H2><PRE>
       <B>/usr/share/groff/1.17.2/tmac/pic.tmac</B>
              Example definitions of the <B>PS</B> and <B>PE</B> macros.


</PRE>
<H2>SEE ALSO</H2><PRE>
       <B>troff(1)</B>,    <B>groff_out(5)</B>,   <B>tex(1)</B>,   <B>gs(1)</B>,   <B>ps2eps(1)</B>,
       <B>pstopnm(1)</B>, <B>ps2epsi(1)</B>, <B>pnm(5)</B>

       Tpic: Pic for TeX

       Brian W. Kernighan, PIC -- A Graphics Language  for  Type­
       setting  (User Manual).  AT&amp;T Bell Laboratories, Computing
       Science  Technical  Report  No. 116   &lt;URL:http://cm.bell-
       labs.com/cm/cs/cstr/116.ps.gz&gt; (revised May, 1991).

       <B>ps2eps</B> is available from CTAN mirrors, e.g.
       &lt;ftp://ftp.dante.de/tex-archive/support/ps2eps/&gt;

       W. Richard Stevens - Turning PIC Into HTML
       &lt;http://www.kohala.com/start/troff/pic2html.html&gt;

       W. Richard Stevens - Examples of picMacros


Groff Version 1.17.2       27 June 2001                    <B>PIC(1)</B>
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
